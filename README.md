# Eclipse_spectrograph
 Самодельный щелевой астроспектрограф основанный на линейном ПЗС сенсоре UPD8861 (впоследствии будет заменен на TC1304). За управление сенсором отвечает ПЛИС Intel Cyclone IV (EP4CE6), для коммуникаций и USB используется STM32F411.
 
### Общие представления
 Основной задумкой является использование зеркальной щели. Это даст возможность поставить допольнительную камеру, которая позволит облегчить процесс наведения на нужный объект, и появится возможность точного гидирования. Изначально я хотел сделать встроенную матрицу (Sony IMX290), чтобы был готовый спектрограф не нуждающийся ни в каком дополнительном оборудовании, но это муторная задача, которая потребует использования более сложной электроники. Пока что хочется сделать рабочий прототип.

#### Про электронику
 ПЛИС Cyclone 4 я выбрал, потому что мне интересно научиться с ним работать. При текущих задачах его использование не очень оправдвно, но если же дойдут руки сделать встроенную камеру подсмотра, то без него это невозможно сделать. STM32 нужна для реализации USB, работает она только в full speed режиме. Для прототипа этого более чем достаточно, а ее использование очень простое. В дальнейшем планирую использовать USB3300, потому что, мне кажется, что максимальных 80МБ/с доступных по USB 2.0 должно хватить. В качесте линейного сенсора пока используется UPD8861, d дальнейшем хочу заменить его на TCD1304, так как у монохромной матрицы в разы выше чувствительность.

#### Про оптику
 В качестве диспергирующего элемента скорее всего будет голографическая дифракционная решетка, так как она имеет наилучшие характеристики. Внутри спектрографа есть оптика, которая напрямую будет влиять на разрешение прибора. Я склоняюсь к использованию цилиндрических зеркал, так как они не будут вносить хроматическую аберрацию, но они достаточно дорогие, поэтому при возможность стоит использовать линзы. Целевое разрешение порядка нанометра, но требуются точные рассчет для понимания максимально возможного.

 
## Задачи
1) Электронная схема (в процессе)
2) Печатная плата
3) Прошивка для ПЛИС (в процессе)
4) Прошивка для STM32
5) Оптическая схема
6) Корпус + система юстировки

### Пояснения к задачам
1) Нужно нарисовать схему устройства в Altium, далее эта схема будет использована для разводки печатной платы
2) Развести печатную плату по схеме
3) Написать код для ПЛИС. Скорее всего он должен только управлять матрицей и АЦП
4) Тут надо реализовать USB. Данные с АЦП передаются на ПЛИС, а затем микроконтроллер по 8битной шине. Для коммуникации между микросхемами используется SPI
5) При условии идеального первичного оптического элемента (линзы/зеркала телескопа) нужно рассчитать какие лучше всего использовать оптические компоненты в самом спектрографе (достаточно ли купить обычные ахроматические линзы или все же нужны зеркала), чтобы получить максимальное разрешение. Предполагаю, что нужно воспользоваться ZEMAX для расчетов оптической схемы, и понять насколько возможно раздобыть такие оптические элементы
6) В любом удобном CADе рисуем корпус. Важно продумать как будет устроена юстировка, и чтобы в целом корпус был удобен для сборки и последующей работы с устройством
